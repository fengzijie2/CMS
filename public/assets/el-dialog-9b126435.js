import{S as W,bC as G,bd as Q,aU as q,B as A,a5 as Z,x as H,bD as _,y as L,o as E,c as P,e as T,K as b,J as f,H as e,t as x,b as R,w as v,h as z,aJ as ee,k as oe,a3 as O,O as j,M as J,bE as se,bF as te,b0 as ae,aT as K,C as ne,a as U,T as le,D as re,bp as ie,av as de,bf as ce,au as ue,aM as me,aN as fe,X as pe}from"./index-d4928f24.js";import{v as ge,w as ve,o as be,p as he,u as Ce,q as ye,t as Ee}from"./el-overlay-19620d0a.js";const ke=(r,i,d)=>{let h={offsetX:0,offsetY:0};const a=t=>{const g=t.clientX,y=t.clientY,{offsetX:c,offsetY:u}=h,s=r.value.getBoundingClientRect(),m=s.left,k=s.top,I=s.width,S=s.height,F=document.documentElement.clientWidth,$=document.documentElement.clientHeight,B=-m+c,X=-k+u,Y=F-m-I+c,N=$-k-S+u,D=M=>{const o=Math.min(Math.max(c+M.clientX-g,B),Y),l=Math.min(Math.max(u+M.clientY-y,X),N);h={offsetX:o,offsetY:l},r.value.style.transform=`translate(${q(o)}, ${q(l)})`},n=()=>{document.removeEventListener("mousemove",D),document.removeEventListener("mouseup",n)};document.addEventListener("mousemove",D),document.addEventListener("mouseup",n)},p=()=>{i.value&&r.value&&i.value.addEventListener("mousedown",a)},C=()=>{i.value&&r.value&&i.value.removeEventListener("mousedown",a)};W(()=>{G(()=>{d.value?p():C()})}),Q(()=>{C()})},V=Symbol("dialogInjectionKey"),we=["aria-label"],$e=["id"],De=A({name:"ElDialogContent"}),Me=A({...De,props:ge,emits:ve,setup(r){const i=r,{t:d}=Z(),{Close:h}=se,{dialogRef:a,headerRef:p,bodyId:C,ns:t,style:g}=H(V),{focusTrapRef:y}=H(_),c=te(y,a),u=L(()=>i.draggable);return ke(a,p,u),(s,m)=>(E(),P("div",{ref:e(c),class:f([e(t).b(),e(t).is("fullscreen",s.fullscreen),e(t).is("draggable",e(u)),e(t).is("align-center",s.alignCenter),{[e(t).m("center")]:s.center},s.customClass]),style:j(e(g)),tabindex:"-1"},[T("header",{ref_key:"headerRef",ref:p,class:f(e(t).e("header"))},[b(s.$slots,"header",{},()=>[T("span",{role:"heading",class:f(e(t).e("title"))},x(s.title),3)]),s.showClose?(E(),P("button",{key:0,"aria-label":e(d)("el.dialog.close"),class:f(e(t).e("headerbtn")),type:"button",onClick:m[0]||(m[0]=k=>s.$emit("close"))},[R(e(oe),{class:f(e(t).e("close"))},{default:v(()=>[(E(),z(ee(s.closeIcon||e(h))))]),_:1},8,["class"])],10,we)):O("v-if",!0)],2),T("div",{id:e(C),class:f(e(t).e("body"))},[b(s.$slots,"default")],10,$e),s.$slots.footer?(E(),P("footer",{key:0,class:f(e(t).e("footer"))},[b(s.$slots,"footer")],2)):O("v-if",!0)],6))}});var Le=J(Me,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const Te=["aria-label","aria-labelledby","aria-describedby"],Re=A({name:"ElDialog",inheritAttrs:!1}),Ae=A({...Re,props:be,emits:he,setup(r,{expose:i}){const d=r,h=ae();K({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},L(()=>!!h.title)),K({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},L(()=>!!d.customClass));const a=ne("dialog"),p=U(),C=U(),t=U(),{visible:g,titleId:y,bodyId:c,style:u,overlayDialogStyle:s,rendered:m,zIndex:k,afterEnter:I,afterLeave:S,beforeLeave:F,handleClose:$,onModalClick:B,onOpenAutoFocus:X,onCloseAutoFocus:Y,onCloseRequested:N,onFocusoutPrevented:D}=Ce(d,p);le(V,{dialogRef:p,headerRef:C,bodyId:c,ns:a,rendered:m,style:u});const n=Ee(B),M=L(()=>d.draggable&&!d.fullscreen);return i({visible:g,dialogContentRef:t}),(o,l)=>(E(),z(fe,{to:"body",disabled:!o.appendToBody},[R(me,{name:"dialog-fade",onAfterEnter:e(I),onAfterLeave:e(S),onBeforeLeave:e(F),persisted:""},{default:v(()=>[re(R(e(ye),{"custom-mask-event":"",mask:o.modal,"overlay-class":o.modalClass,"z-index":e(k)},{default:v(()=>[T("div",{role:"dialog","aria-modal":"true","aria-label":o.title||void 0,"aria-labelledby":o.title?void 0:e(y),"aria-describedby":e(c),class:f(`${e(a).namespace.value}-overlay-dialog`),style:j(e(s)),onClick:l[0]||(l[0]=(...w)=>e(n).onClick&&e(n).onClick(...w)),onMousedown:l[1]||(l[1]=(...w)=>e(n).onMousedown&&e(n).onMousedown(...w)),onMouseup:l[2]||(l[2]=(...w)=>e(n).onMouseup&&e(n).onMouseup(...w))},[R(e(ie),{loop:"",trapped:e(g),"focus-start-el":"container",onFocusAfterTrapped:e(X),onFocusAfterReleased:e(Y),onFocusoutPrevented:e(D),onReleaseRequested:e(N)},{default:v(()=>[e(m)?(E(),z(Le,de({key:0,ref_key:"dialogContentRef",ref:t},o.$attrs,{"custom-class":o.customClass,center:o.center,"align-center":o.alignCenter,"close-icon":o.closeIcon,draggable:e(M),fullscreen:o.fullscreen,"show-close":o.showClose,title:o.title,onClose:e($)}),ce({header:v(()=>[o.$slots.title?b(o.$slots,"title",{key:1}):b(o.$slots,"header",{key:0,close:e($),titleId:e(y),titleClass:e(a).e("title")})]),default:v(()=>[b(o.$slots,"default")]),_:2},[o.$slots.footer?{name:"footer",fn:v(()=>[b(o.$slots,"footer")])}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","onClose"])):O("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,Te)]),_:3},8,["mask","overlay-class","z-index"]),[[ue,e(g)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var Ie=J(Ae,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const Be=pe(Ie);export{Be as E,ke as u};
